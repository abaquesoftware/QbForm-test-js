<html>
  <head>
    <meta charset="utf-8">
    <!-- QbForm -->
		<script src='./QbForm-js/QbForm.js'></script>
		<link rel="stylesheet" href="./QbForm-js/QbForm-default.css">
		<link rel="stylesheet" href="./QbForm-js/QbForm-compact.css">
		<link rel="stylesheet" href="./QbForm-js/QbForm-dark.css">
		<!-- QbForm-table -->
		<script src='./QbForm-js-table/QbForm-table.js'></script>
		<link rel="stylesheet" href="./QbForm-js-table/QbForm-table-default.css">
		<link rel="stylesheet" href="./QbForm-js-table/QbForm-table-compact.css">
		<link rel="stylesheet" href="./QbForm-js-table/QbForm-table-dark.css">

		<style>
		</style>
	</head>
	
  <body>
		<div id='myDiv'></div>
		<script>
      let schema = {
				type: "object",
				properties: {
					client_id: {
								type: "string"
					},
					client: {
						type: "object",
						/* cellBackgroundColor: "#F0F0F0", */
						properties: {
              client_name: {
                type: "string",
								dataBackgroundColor: "#F0F0F0"
							},
              client_address_1: {
                type: "string",
								dataBackgroundColor: "#F0F0F0"
							},
              client_address_2: {
                type: "string",
								dataBackgroundColor: "#F0F0F0"
							},
							client_zipcode: {
                type: "integer",
								dataBackgroundColor: "#F0F0F0"
							},
							client_town: {
                type: "string",
								dataBackgroundColor: "#F0F0F0"
							}
						}
					},
					invoice_id: {
						type: "string"
					},
          invoice_details: {
						type: 'array',
						items: {
							type: "object",
							properties: {
								product_id: {
									type: 'string'
								},
							  product_name: {
									type: 'string',
									dataBackgroundColor: "#F0F0F0"
								},
							  product_status: {
									type: 'string',
									enum: ['UNKNOWN', 'OK', 'NOK'],
                  width: "10px"
								},
							  product_status_display: {
									type: 'string',
									label: 'st',
									width: "30px",
									dataBackgroundColor: "lightgrey"
								},
							  product_price: {
									type: 'integer',
									width: "100px",
									dataBackgroundColor: "#F0F0F0"
								},
							  product_quantity: {
									type: 'integer',
									label: 'quantity',
									width: "100px",
								},
							  product_total_price: {
									type: 'integer',
									label: 'total',
									width: "100px",
									dataBackgroundColor: "#F0F0F0"
								},
							  product_taxes: {
									type: 'integer',
									label: 'taxes',
									width: "100px",
									dataRightText: ' %',
								},
							  product_total_with_taxes: {
									type: 'integer',
									label: 'taxes',
									width: "100px",
									label: 'total w/ taxes',
									width: "100px",
									dataBackgroundColor: "#F0F0F0"
								}
							}
						}
					},
					comments: {
						type: "string",
						format: "textarea"
					}
				}
			}
			
			var qbForm = new QbForm('myDiv', schema, 'default')
			qbForm.display()
		</script>

<textarea id=QbFormValue style="width:100%; height:100px; overflow: scroll;"></textarea><br/>
<button 
	onClick="getElementById('QbFormValue').value = JSON.stringify(qbForm.getProperty('/', 'value') )"
	onClick2="console.log( qbForm.getProperty('/', 'value')[0]['/'] )">
	Get Value</button><br/>

  </body>
</html>
